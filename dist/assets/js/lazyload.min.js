!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LazyLoad=e()}(this,function(){"use strict";function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function o(t){return e({},B,t)}function a(t,e){var n,i="LazyLoad::Initialized",a=new t(e);try{n=new CustomEvent(i,{detail:{instance:a}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,{instance:a})}window.dispatchEvent(n)}function l(t,e){return t.getAttribute("data-"+e)}function d(t){return l(t,"ll-status")}function f(t,e){return n=t,t="data-ll-status",void(null!==e?n.setAttribute(t,e):n.removeAttribute(t));var n}function _(t){return f(t,null),0}function g(t){return null===d(t)}function s(t){return d(t)===X}function v(t,e,n,i){t&&(void 0===i?void 0===n?t(e):t(e,n):t(e,n,i))}function b(t,e){q?t.classList.add(e):t.className+=(t.className?" ":"")+e}function p(t,e){q?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function c(t){return t.llTempImage}function h(t,e){!e||(e=e._observer)&&e.unobserve(t)}function m(t,e){t&&(t.loadingCount+=e)}function u(t,e){t&&(t.toLoadCount=e)}function n(t){for(var e,n=[],i=0;e=t.children[i];i+=1)"SOURCE"===e.tagName&&n.push(e);return n}function i(t,e,n){n&&t.setAttribute(e,n)}function r(t,e){t.removeAttribute(e)}function E(t){return!!t.llOriginalAttrs}function y(t){var e;E(t)||((e={}).src=t.getAttribute("src"),e.srcset=t.getAttribute("srcset"),e.sizes=t.getAttribute("sizes"),t.llOriginalAttrs=e)}function I(t){var e;E(t)&&(e=t.llOriginalAttrs,i(t,"src",e.src),i(t,"srcset",e.srcset),i(t,"sizes",e.sizes))}function A(t,e){i(t,"sizes",l(t,e.data_sizes)),i(t,"srcset",l(t,e.data_srcset)),i(t,"src",l(t,e.data_src))}function L(t){r(t,"src"),r(t,"srcset"),r(t,"sizes")}function w(t,e){(t=t.parentNode)&&"PICTURE"===t.tagName&&n(t).forEach(e)}function k(t,e){var n=Z[t.tagName];n&&n(t,e)}function O(t,e,n){m(n,1),b(t,e.class_loading),f(t,J),v(e.callback_loading,t,n)}function x(t,e){!e||0<e.loadingCount||0<e.toLoadCount||v(t.callback_finish,e)}function z(t,e,n){t.addEventListener(e,n),t.llEvLisnrs[e]=n}function C(t){return!!t.llEvLisnrs}function N(t){if(C(t)){var e,n=t.llEvLisnrs;for(e in n){var i=n[e];a=e,i=i,t.removeEventListener(a,i)}delete t.llEvLisnrs}var a}function M(t,e,n){delete t.llTempImage,m(n,-1),n&&--n.toLoadCount,p(t,e.class_loading),e.unobserve_completed&&h(t,n)}function R(n,i,a){var r=c(n)||n;C(r)||function(t){C(t)||(t.llEvLisnrs={});var e="VIDEO"===t.tagName?"loadeddata":"load";z(t,e,function(t){!function(t,e,n,i){var a=s(e);M(e,n,i),b(e,n.class_loaded),f(e,K),v(n.callback_loaded,e,i),a||x(n,i)}(0,n,i,a),N(r)}),z(t,"error",function(t){!function(t,e,n,i){var a=s(e);M(e,n,i),b(e,n.class_error),f(e,W),v(n.callback_error,e,i),a||x(n,i)}(0,n,i,a),N(r)})}(r)}function T(t,e,n){var i,a,r,o,s;-1<tt.indexOf(t.tagName)?(R(i=t,s=e,o=n),k(i,s),O(i,s,o)):(a=e,r=n,(i=t).llTempImage=document.createElement("IMG"),R(i,a,r),s=r,n=l(o=i,(e=a).data_bg),t=l(o,e.data_bg_hidpi),(n=H&&t?t:n)&&(o.style.backgroundImage='url("'.concat(n,'")'),c(o).setAttribute("src",n),O(o,e,s)),e=r,i=l(s=i,(r=a).data_bg_multi),a=l(s,r.data_bg_multi_hidpi),(i=H&&a?a:i)&&(s.style.backgroundImage=i,e=e,b(s=s,(r=r).class_applied),f(s,Q),r.unobserve_completed&&h(s,r),v(r.callback_applied,s,e)))}function G(t){return t.use_native&&"loading"in HTMLImageElement.prototype}function D(t,c,u){t.forEach(function(t){return t.isIntersecting||0<t.intersectionRatio?(a=t.target,r=t,o=c,s=u,l=0<=Y.indexOf(d(a)),f(a,"entered"),b(a,o.class_entered),p(a,o.class_exited),o.unobserve_entered&&h(a,s),v(o.callback_enter,a,r,s),void(l||T(a,o,s))):(e=t.target,n=t,i=c,r=u,void(g(e)||(b(e,i.class_exited),l=e,a=n,o=r,(s=i).cancel_on_exit&&d(l)===J&&"IMG"===l.tagName&&(N(l),w(t=l,function(t){L(t)}),L(t),w(t=l,function(t){I(t)}),I(t),p(l,s.class_loading),m(o,-1),_(l),v(s.callback_cancel,l,a,o)),v(i.callback_exit,e,n,r))));var e,n,i,a,r,o,s,l})}function V(t){return Array.prototype.slice.call(t)}function j(t){return t.container.querySelectorAll(t.elements_selector)}function F(t){return d(t)===W}function P(t,e){return e=t||j(e),V(e).filter(g)}function t(t,e){var i,a,n,r,t=o(t);this._settings=t,this.loadingCount=0,n=t,r=this,$&&!G(n)&&(r._observer=new IntersectionObserver(function(t){D(t,n,r)},{root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"})),i=t,a=this,S&&window.addEventListener("online",function(){var e,t,n;t=a,n=j(e=i),V(n).filter(F).forEach(function(t){p(t,e.class_error),_(t)}),t.update()}),this.update(e)}var S="undefined"!=typeof window,U=S&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),$=S&&"IntersectionObserver"in window,q=S&&"classList"in document.createElement("p"),H=S&&1<window.devicePixelRatio,B={elements_selector:".lazy",container:U||S?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},J="loading",K="loaded",Q="applied",W="error",X="native",Y=[J,K,Q,W],Z={IMG:function(t,e){w(t,function(t){y(t),A(t,e)}),y(t),A(t,e)},IFRAME:function(t,e){i(t,"src",l(t,e.data_src))},VIDEO:function(t,e){n(t).forEach(function(t){i(t,"src",l(t,e.data_src))}),i(t,"poster",l(t,e.data_poster)),i(t,"src",l(t,e.data_src)),t.load()}},tt=["IMG","IFRAME","VIDEO"],et=["IMG","IFRAME","VIDEO"];return t.prototype={update:function(t){var e,i,a,n=this._settings,r=P(t,n);u(this,r.length),!U&&$?G(n)?(i=n,a=this,r.forEach(function(t){var e,n;-1!==et.indexOf(t.tagName)&&(e=i,n=a,(t=t).setAttribute("loading","lazy"),R(t,e,n),k(t,e),f(t,X))}),u(a,0)):(t=r,(n=this._observer).disconnect(),e=n,t.forEach(function(t){e.observe(t)})):this.loadAll(r)},destroy:function(){this._observer&&this._observer.disconnect(),j(this._settings).forEach(function(t){delete t.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var e=this,n=this._settings;P(t,n).forEach(function(t){h(t,e),T(t,n,e)})}},t.load=function(t,e){e=o(e);T(t,e)},t.resetStatus=function(t){_(t)},S&&function(t,e){if(e)if(e.length)for(var n,i=0;n=e[i];i+=1)a(t,n);else a(t,e)}(t,window.lazyLoadOptions),t});